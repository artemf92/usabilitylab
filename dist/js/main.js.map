{"version":3,"sources":["main.js"],"names":["slider","document","querySelector","arrowBottom","arrowTop","sectionSlider","pagination","querySelectorAll","backgrounds","carousel","sidebar","btnSideBarClose","hamburger","$","interval","click","action","attr","showBlock","el","speed","prevEl","style","display","step","setInterval","opacity","clearInterval","toggleClass","item","i","length","classList","remove","add","moveSlider","direction","dataset","transform","zIndex","resolution","documentElement","clientWidth","wheel","event","delta","window","wheelDelta","detail","preventDefault","returnValue","dir","addEvent","elm","evType","fn","useCapture","addEventListener","attachEvent","r","evt","stopPropagation","toggle","target","itsHamburger","itsMenu","contains","menuIsToggled","key"],"mappings":";;AAAA,IAAMA,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAf;AACA,IAAMC,WAAW,GAAGF,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAApB;AACA,IAAME,QAAQ,GAAGH,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAjB;AACA,IAAMG,aAAa,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAtB;AACA,IAAMI,UAAU,GAAGL,QAAQ,CAACM,gBAAT,CAA0B,SAA1B,CAAnB;AACA,IAAMC,WAAW,GAAGP,QAAQ,CAACM,gBAAT,CAA0B,aAA1B,CAApB;AAEA,IAAME,QAAQ,GAAGR,QAAQ,CAACM,gBAAT,CAA0B,WAA1B,CAAjB;AAEA,IAAMG,OAAO,GAAGT,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAhB;AACA,IAAMS,eAAe,GAAGV,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAxB;AACA,IAAMU,SAAS,GAAGX,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAAlB;AAEAW,CAAC,CAAC,WAAD,CAAD,CAAeJ,QAAf,CAAwB;AACtBK,EAAAA,QAAQ,EAAE;AADY,CAAxB;AAIAD,CAAC,CAAC,gBAAD,CAAD,CAAoBE,KAApB,CAA0B,YAAY;AACrC,MAAIC,MAAM,GAAGH,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,YAAb,CAAb;AACGJ,EAAAA,CAAC,CAAC,WAAD,CAAD,CAAeJ,QAAf,CAAwBO,MAAxB;AACH,CAHD;;AAKA,SAASE,SAAT,CAAmBC,EAAnB,EAAuBC,KAAvB,EAA6C;AAAA,MAAfC,MAAe,uEAAN,IAAM;AAC5CF,EAAAA,EAAE,CAACG,KAAH,CAASC,OAAT,GAAmB,OAAnB;AACC,MAAIC,IAAI,GAAG,IAAIJ,KAAf;AACA,MAAIN,QAAQ,GAAGW,WAAW,CAAC,YAAW;AACpC,QAAI,CAACN,EAAE,CAACG,KAAH,CAASI,OAAV,IAAqB,CAAzB,EACEC,aAAa,CAACb,QAAD,CAAb;;AACF,QAAIO,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACC,KAAP,CAAaI,OAAb,GAAuB,CAACL,MAAM,CAACC,KAAP,CAAaI,OAAd,GAAwBF,IAA/C;AACA,UAAI,CAACH,MAAM,CAACC,KAAP,CAAaI,OAAd,IAAyB,CAA7B,EACEL,MAAM,CAACC,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACH;;AACDJ,IAAAA,EAAE,CAACG,KAAH,CAASI,OAAT,GAAmB,CAACP,EAAE,CAACG,KAAH,CAASI,OAAV,GAAoBF,IAAvC;AAED,GAVyB,EAUvBJ,KAAK,GAAG,IAVe,CAA1B;AAWD;;AAED,SAASQ,WAAT,CAAqBC,IAArB,EAA2B;AAC1B,OAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGxB,UAAU,CAACyB,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AAC1C,QAAIA,CAAC,KAAKD,IAAV,EAAiB;AAChBvB,MAAAA,UAAU,CAACwB,CAAD,CAAV,CAAcE,SAAd,CAAwBC,MAAxB,CAA+B,QAA/B;AACA,KAFD,MAGC3B,UAAU,CAACwB,CAAD,CAAV,CAAcE,SAAd,CAAwBE,GAAxB,CAA4B,QAA5B;AACD;AACD;;AAED,SAASC,UAAT,GAAwC;AAAA,MAApBC,SAAoB,uEAAR,MAAQ;AACvC,MAAIZ,IAAI,GAAIY,SAAS,IAAI,MAAd,GAAwB,CAAC,IAAzB,GAAgC,IAA3C;AACA,MAAIpC,MAAM,CAACqC,OAAP,CAAeC,SAAf,KAA6B,CAA7B,IAAkCF,SAAS,KAAK,MAAhD,IAA0DpC,MAAM,CAACqC,OAAP,CAAeC,SAAf,KAA6B,CAAC,IAA9B,IAAsCF,SAAS,KAAK,MAAlH,EAA0H;AAC1H,MAAIE,SAAS,GAAGtC,MAAM,CAACqC,OAAP,CAAeC,SAAf,GAA2Bd,IAA3C;AACAxB,EAAAA,MAAM,CAACqC,OAAP,CAAeC,SAAf,GAA2BA,SAA3B;;AACA,UAAQA,SAAR;AACC,SAAK,CAAL;AACClC,MAAAA,QAAQ,CAACkB,KAAT,CAAeI,OAAf,GAAyB,CAAzB;AACAtB,MAAAA,QAAQ,CAACkB,KAAT,CAAeiB,MAAf,GAAwB,CAAC,GAAzB;AACApC,MAAAA,WAAW,CAACmB,KAAZ,CAAkBI,OAAlB,GAA4B,CAA5B;AACAvB,MAAAA,WAAW,CAACmB,KAAZ,CAAkBiB,MAAlB,GAA2B,GAA3B;AACArB,MAAAA,SAAS,CAACV,WAAW,CAAC,CAAD,CAAZ,EAAiB,GAAjB,EAAsBA,WAAW,CAAC,CAAD,CAAjC,CAAT;AACAoB,MAAAA,WAAW,CAAC,CAAD,CAAX;AAEA;;AACD,SAAK,CAAC,IAAN;AACCxB,MAAAA,QAAQ,CAACkB,KAAT,CAAeI,OAAf,GAAyB,CAAzB;AACAtB,MAAAA,QAAQ,CAACkB,KAAT,CAAeiB,MAAf,GAAwB,GAAxB;AACApC,MAAAA,WAAW,CAACmB,KAAZ,CAAkBI,OAAlB,GAA4B,CAA5B;AACAvB,MAAAA,WAAW,CAACmB,KAAZ,CAAkBiB,MAAlB,GAA2B,GAA3B;AACCH,MAAAA,SAAS,IAAI,MAAd,GAAwBlB,SAAS,CAACV,WAAW,CAAC,CAAD,CAAZ,EAAiB,EAAjB,EAAqBA,WAAW,CAAC,CAAD,CAAhC,CAAjC,GAAwEU,SAAS,CAACV,WAAW,CAAC,CAAD,CAAZ,EAAiB,GAAjB,EAAsBA,WAAW,CAAC,CAAD,CAAjC,CAAjF;AACAoB,MAAAA,WAAW,CAAC,CAAD,CAAX;AACA;;AACD,SAAK,CAAC,IAAN;AACCzB,MAAAA,WAAW,CAACmB,KAAZ,CAAkBI,OAAlB,GAA4B,CAA5B;AACAvB,MAAAA,WAAW,CAACmB,KAAZ,CAAkBiB,MAAlB,GAA2B,CAAC,GAA5B;AACArB,MAAAA,SAAS,CAACV,WAAW,CAAC,CAAD,CAAZ,EAAiB,GAAjB,EAAsBA,WAAW,CAAC,CAAD,CAAjC,CAAT;AACAoB,MAAAA,WAAW,CAAC,CAAD,CAAX;AACA;AAvBF;;AAyBA,MAAMY,UAAU,GAAIvC,QAAQ,CAACwC,eAAT,CAAyBC,WAAzB,IAAwC,IAAzC,GAAiD,GAAjD,GAAuD,GAA1E;AACA1C,EAAAA,MAAM,CAACsB,KAAP,CAAagB,SAAb,sBAAqCE,UAArC,cAAmDF,SAAnD;AACA,C,CAED;;;AACA,SAASK,KAAT,CAAeC,KAAf,EAAqB;AACjB,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAI,CAACD,KAAL,EAAYA,KAAK,GAAGE,MAAM,CAACF,KAAf,CAFK,CAEiB;AAClC;;AACA,MAAIA,KAAK,CAACG,UAAV,EAAsB;AAClB;AACAF,IAAAA,KAAK,GAAGD,KAAK,CAACG,UAAN,GAAiB,GAAzB;AACH,GAHD,MAGO,IAAIH,KAAK,CAACI,MAAV,EAAkB;AACrB;AACAH,IAAAA,KAAK,GAAG,CAACD,KAAK,CAACI,MAAP,GAAc,CAAtB;AACH;;AACD,MAAIH,KAAJ,EAAW;AACP;AACA,QAAID,KAAK,CAACK,cAAV,EAA0B;AACtBL,MAAAA,KAAK,CAACK,cAAN;AACH;;AACDL,IAAAA,KAAK,CAACM,WAAN,GAAoB,KAApB,CALO,CAKoB;AAE3B;;AACA,QAAIC,GAAG,GAAGN,KAAK,GAAG,CAAR,GAAY,MAAZ,GAAqB,MAA/B;AACA,QAAI7C,MAAM,CAACqC,OAAP,CAAeC,SAAf,IAA4B,CAA5B,IAAiCa,GAAG,KAAK,MAAzC,IAAmDnD,MAAM,CAACqC,OAAP,CAAeC,SAAf,IAA4B,CAAC,IAA7B,IAAqCa,GAAG,KAAK,MAApG,EAA4G;AAC5GhB,IAAAA,UAAU,CAACgB,GAAD,CAAV;AACH;AACJ,C,CAED;;;AACA,SAASC,QAAT,CAAkBC,GAAlB,EAAuBC,MAAvB,EAA+BC,EAA/B,EAAmCC,UAAnC,EAA+C;AACvC,MAAIH,GAAG,CAACI,gBAAR,EAA0B;AAClBJ,IAAAA,GAAG,CAACI,gBAAJ,CAAqBH,MAArB,EAA6BC,EAA7B,EAAiCC,UAAjC;AACR,WAAO,IAAP;AACC,GAHD,MAIK,IAAIH,GAAG,CAACK,WAAR,EAAqB;AAClB,QAAIC,CAAC,GAAGN,GAAG,CAACK,WAAJ,CAAgB,OAAOJ,MAAvB,EAA+BC,EAA/B,CAAR;AACA,WAAOI,CAAP;AACP,GAHI,MAIA;AACGN,IAAAA,GAAG,CAAC,OAAOC,MAAR,CAAH,GAAqBC,EAArB;AACP;AACR,C,CAED;;;AACA5C,eAAe,CAAC8C,gBAAhB,CAAiC,OAAjC,EAA0C,YAAM;AAC9C/C,EAAAA,OAAO,CAACsB,SAAR,CAAkBC,MAAlB,CAAyB,SAAzB;AACAtB,EAAAA,eAAe,CAACW,KAAhB,CAAsBI,OAAtB,GAAgC,CAAhC;AACAd,EAAAA,SAAS,CAACU,KAAV,CAAgBC,OAAhB,GAA0B,OAA1B;AACD,CAJD,E,CAMA;;AACAX,SAAS,CAAC6C,gBAAV,CAA2B,OAA3B,EAAoC,UAACG,GAAD,EAAS;AAC3CA,EAAAA,GAAG,CAACC,eAAJ;AACAnD,EAAAA,OAAO,CAACsB,SAAR,CAAkB8B,MAAlB,CAAyB,SAAzB;AACAnD,EAAAA,eAAe,CAACW,KAAhB,CAAsBI,OAAtB,GAAgC,CAAhC;AACAd,EAAAA,SAAS,CAACU,KAAV,CAAgBC,OAAhB,GAA0B,MAA1B;AACD,CALD,E,CAOA;;AACAtB,QAAQ,CAACwD,gBAAT,CAA0B,OAA1B,EAAmC,UAACG,GAAD,EAAS;AAC1C,MAAIG,MAAM,GAAGH,GAAG,CAACG,MAAjB;AACA,MAAIC,YAAY,GAAGD,MAAM,IAAInD,SAA7B;AACA,MAAIqD,OAAO,GAAGF,MAAM,IAAIrD,OAAV,IAAqBA,OAAO,CAACwD,QAAR,CAAiBH,MAAjB,CAAnC;AACA,MAAII,aAAa,GAAGzD,OAAO,CAACsB,SAAR,CAAkBkC,QAAlB,CAA2B,SAA3B,CAApB;;AAEA,MAAI,CAACD,OAAD,IAAY,CAACD,YAAb,IAA6BG,aAAjC,EAAgD;AAC9CzD,IAAAA,OAAO,CAACsB,SAAR,CAAkBC,MAAlB,CAAyB,SAAzB;AACAtB,IAAAA,eAAe,CAACW,KAAhB,CAAsBI,OAAtB,GAAgC,CAAhC;AACD;AACF,CAVD;AAYAvB,WAAW,CAACsD,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;AAC3CtB,EAAAA,UAAU;AACV,CAFD;AAIA/B,QAAQ,CAACqD,gBAAT,CAA0B,OAA1B,EAAmC,YAAM;AACxCtB,EAAAA,UAAU,CAAC,MAAD,CAAV;AACA,CAFD,E,CAIA;;AACAW,MAAM,CAACW,gBAAP,CAAwB,SAAxB,EAAmC,UAACG,GAAD,EAAS;AAC3C,UAAQA,GAAG,CAACQ,GAAZ;AACC,SAAK,WAAL;AACC,UAAIpE,MAAM,CAACqC,OAAP,CAAeC,SAAf,IAA4B,CAAC,IAAjC,EAAuCH,UAAU;AACjD;;AACD,SAAK,SAAL;AACC,UAAInC,MAAM,CAACqC,OAAP,CAAeC,SAAf,IAA4B,CAAhC,EAAmCH,UAAU,CAAC,MAAD,CAAV;AACnC;;AACD,SAAK,WAAL;AACCtB,MAAAA,CAAC,CAAC,WAAD,CAAD,CAAeJ,QAAf,CAAwB,MAAxB;;AACD,SAAK,YAAL;AACCI,MAAAA,CAAC,CAAC,WAAD,CAAD,CAAeJ,QAAf,CAAwB,MAAxB;AAVF;AAaA,CAdD;AAgBA2C,QAAQ,CAACN,MAAD,EAAS,YAAT,EAAuBH,KAAvB,CAAR;AACAS,QAAQ,CAACN,MAAD,EAAS,gBAAT,EAA2BH,KAA3B,CAAR","sourcesContent":["const slider = document.querySelector('.sliders-list');\r\nconst arrowBottom = document.querySelector('.arrow-bottom');\r\nconst arrowTop = document.querySelector('.arrow-top');\r\nconst sectionSlider = document.querySelector('.sliders');\r\nconst pagination = document.querySelectorAll('.circle');\r\nconst backgrounds = document.querySelectorAll('.background');\r\n\r\nconst carousel = document.querySelectorAll('.carousel');\r\n\r\nconst sidebar = document.querySelector('#wrapper');\r\nconst btnSideBarClose = document.querySelector('#menu-close');\r\nconst hamburger = document.querySelector('#menu-toggle');\r\n\r\n$('.carousel').carousel({\r\n  interval: false\r\n})\r\n\r\n$('.slider-arrows').click(function () {\r\n\tlet action = $(this).attr('data-slide');\r\n    $('.carousel').carousel(action);\r\n})\r\n\r\nfunction showBlock(el, speed, prevEl = null) {\r\n\tel.style.display = 'block';\r\n  let step = 1 / speed;\r\n  let interval = setInterval(function() {\r\n    if (+el.style.opacity >= 1)\r\n      clearInterval(interval);\r\n    if (prevEl) {\r\n      prevEl.style.opacity = +prevEl.style.opacity - step; \r\n      if (+prevEl.style.opacity <= 0) \r\n        prevEl.style.display = \"none\";\r\n    }\r\n    el.style.opacity = +el.style.opacity + step;\r\n    \r\n  }, speed / 1000);\r\n}\r\n\r\nfunction toggleClass(item) {\r\n\tfor(let i = 0; i < pagination.length; i++) {\r\n\t\tif (i !== item ) {\r\n\t\t\tpagination[i].classList.remove('active');\r\n\t\t} else\r\n\t\t\tpagination[i].classList.add('active');\r\n\t}\r\n}\r\n\r\nfunction moveSlider(direction = 'next') {\r\n\tlet step = (direction == 'prev') ? -33.3 : 33.3;\r\n\tif (slider.dataset.transform === 0 && direction === 'prev' || slider.dataset.transform === -66.6 && direction === 'next') return;\r\n\tlet transform = slider.dataset.transform - step;\r\n\tslider.dataset.transform = transform;\r\n\tswitch (transform) {\r\n\t\tcase 0:\r\n\t\t\tarrowTop.style.opacity = 0;\r\n\t\t\tarrowTop.style.zIndex = -100;\r\n\t\t\tarrowBottom.style.opacity = 1;\r\n\t\t\tarrowBottom.style.zIndex = 100;\r\n\t\t\tshowBlock(backgrounds[0], 100, backgrounds[1]);\r\n\t\t\ttoggleClass(0);\r\n\r\n\t\t\tbreak;\r\n\t\tcase -33.3:\r\n\t\t\tarrowTop.style.opacity = 1;\r\n\t\t\tarrowTop.style.zIndex = 100;\r\n\t\t\tarrowBottom.style.opacity = 1;\r\n\t\t\tarrowBottom.style.zIndex = 100;\r\n\t\t\t(direction == 'prev') ? showBlock(backgrounds[1], 90, backgrounds[2]) : showBlock(backgrounds[1], 100, backgrounds[0]);\r\n\t\t\ttoggleClass(1);\r\n\t\t\tbreak;\r\n\t\tcase -66.6:\r\n\t\t\tarrowBottom.style.opacity = 0;\r\n\t\t\tarrowBottom.style.zIndex = -100;\r\n\t\t\tshowBlock(backgrounds[2], 100, backgrounds[1]);\r\n\t\t\ttoggleClass(2);\r\n\t\t\tbreak;\r\n\t}\r\n\tconst resolution = (document.documentElement.clientWidth >= 1200) ? 'Y' : 'X';\r\n\tslider.style.transform = `translate${resolution}(${transform}%)`;\r\n}\r\n\r\n//Функция события прогрутки мыши\r\nfunction wheel(event){\r\n    let delta = 0;\r\n    if (!event) event = window.event; // Событие IE.\r\n    // Установим кроссбраузерную delta\r\n    if (event.wheelDelta) {\r\n        // IE, Opera, safari, chrome - кратность дельта равна 120\r\n        delta = event.wheelDelta/120;\r\n    } else if (event.detail) {\r\n        // Mozilla, кратность дельта равна 3\r\n        delta = -event.detail/3;\r\n    }\r\n    if (delta) {\r\n        // Отменим текущее событие - событие поумолчанию (скролинг окна).\r\n        if (event.preventDefault) {\r\n            event.preventDefault();\r\n        }\r\n        event.returnValue = false; // для IE\r\n\r\n        // если дельта больше 0, то колесо крутят вверх, иначе вниз\r\n        let dir = delta > 0 ? 'next' : 'prev';\r\n        if (slider.dataset.transform == 0 && dir === 'prev' || slider.dataset.transform == -66.6 && dir === 'next') return;\r\n        moveSlider(dir);\r\n    }\r\n}\r\n\r\n// Обработчик событий Скота Эндрю\r\nfunction addEvent(elm, evType, fn, useCapture) {\r\n        if (elm.addEventListener) {\r\n                elm.addEventListener(evType, fn, useCapture);\r\n        return true;\r\n        }\r\n        else if (elm.attachEvent) {\r\n                var r = elm.attachEvent('on' + evType, fn);\r\n                return r;\r\n        }\r\n        else {\r\n                elm['on' + evType] = fn;\r\n        }\r\n}\r\n\r\n// Закрытие сайдбара\r\nbtnSideBarClose.addEventListener('click', () => {\r\n  sidebar.classList.remove('toggled');\r\n  btnSideBarClose.style.opacity = 0;\r\n  hamburger.style.display = \"block\";\r\n})\r\n\r\n// Открытие гамбургера\r\nhamburger.addEventListener('click', (evt) => {\r\n  evt.stopPropagation();\r\n  sidebar.classList.toggle('toggled');\r\n  btnSideBarClose.style.opacity = 1;\r\n  hamburger.style.display = \"none\";\r\n})\r\n\r\n// Закрытие гамбургера при клике в любое другое место\r\ndocument.addEventListener('click', (evt) => {\r\n  let target = evt.target;\r\n  let itsHamburger = target == hamburger;\r\n  let itsMenu = target == sidebar || sidebar.contains(target);\r\n  let menuIsToggled = sidebar.classList.contains('toggled');\r\n\r\n  if (!itsMenu && !itsHamburger && menuIsToggled) {\r\n    sidebar.classList.remove('toggled');\r\n    btnSideBarClose.style.opacity = 0;\r\n  }\r\n})\r\n\r\narrowBottom.addEventListener('click', () => {\r\n\tmoveSlider()\r\n})\r\n\r\narrowTop.addEventListener('click', () => {\r\n\tmoveSlider('prev');\r\n})\r\n\r\n// Обработчик стрелок на клавиатуре\r\nwindow.addEventListener('keydown', (evt) => {\r\n\tswitch (evt.key) {\r\n\t\tcase 'ArrowDown':\r\n\t\t\tif (slider.dataset.transform != -66.6) moveSlider();\r\n\t\t\tbreak;\r\n\t\tcase 'ArrowUp':\r\n\t\t\tif (slider.dataset.transform != 0) moveSlider('prev');\r\n\t\t\tbreak;\r\n\t\tcase 'ArrowLeft':\r\n\t\t\t$('.carousel').carousel('prev');\r\n\t\tcase 'ArrowRight':\r\n\t\t\t$('.carousel').carousel('next');\r\n\r\n\t}\r\n})\r\n\r\naddEvent(window, 'mousewheel', wheel);\r\naddEvent(window, 'DOMMouseScroll', wheel);\r\n"],"file":"main.js"}